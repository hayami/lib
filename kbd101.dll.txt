http://cafemoonlight.blog55.fc2.com/blog-entry-9.html より抜粋

	■ 配列全体の変更

	いまお使いのキーボードは何配列のものでしょうか? そしてそれに適用して
	いるキーボードドライバーは…? 大抵の場合、(ハード + ソフト) のキー配
	列というのは、(JIS + JIS) や (ASCII + ASCII) といった具合に一致してい
	るものです。

	しかし、OS をインストールした後に誤表示・誤認識されるのはよくありがち
	なことですし、USB キーボードを飛び入り参加させた結果、藪蛇 (やぶへび) 
	に配列を変えられてしまうこともあります。Logitech の SetPoint に至って
	は、インストール時に否応無く、キーボードドライバーを上書きしてしまう
	バージョンもあります (*1)。

	さていずれにせよ、これらの不具合を解決するには、デバイスマネージャ経
	由で、キーボードドライバーを正しく指定し直せば良い訳です。ただしひと
	つ条件があり、この作業が行えるのは、PS/2 キーボードを接続している時に
	限られます。ご本家 Microsoft に画像入りの丁寧な説明があります (XP 用 
	/ Vista 用) ので、本記事では割愛します。

	ただ SetPoint のインストールや、それ以外にも何かの不具合の度に、煩雑
	な配列変更作業に勤 (いそ) しむというのも不便です。また USB キーボード
	しか無い環境では、デバイスマネージャ経由でのドライバー変更は行えませ
	ん。結局この変更作業とは、使用するキーボードドライバーの DLL ファイル
	(*2) 名を、レジストリの該当部分に指定することそのものです。それ故、直
	接その部分を操作することで容易に変更できますし、また REG ファイルとし
	て保存しておくことで、今後はワンクリック + 再起動 (XP なら再ログオン)
	で配列変更が可能です。


	1. キーボード配列を日本語 JIS 配列に変更する
		[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\i8042prt\Parameters]
		"LayerDriver JPN"="kbd106.dll"
		"OverrideKeyboardIdentifier"="PCAT_106KEY"
		"OverrideKeyboardSubtype"=dword:00000002
		"OverrideKeyboardType"=dword:00000007

	2. キーボード配列を英語 ASCII 配列に変更する
		[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\i8042prt\Parameters]
		"LayerDriver JPN"="kbd101.dll"

	ご覧のように、JIS 配列に変更するときには Override 関連の項目も必要で
	すが、ASCII 配列に変更するときには、Layer〜 の項目だけで構いません。
	汎用性を考えると、1. のレジストリを保存し、Layer〜 の項目を 106/101
	と書き換えて使い分けると良いでしょう。なお、各項目の詳しい解説は
	KB102989 にあります。

	ところで "kbd101.dll" を適用する場合、日本語入力切り替えは、ASCII 配
	列の [Alt] + [`] (JIS 配列の [Alt] + [半角/全角]) で行うことになりま
	す。この 2 アクションが億劫 (おっくう) であれば、日本語入力切り替えが
	[右 Alt] の 1 アクションで可能である以外は "kbd101.dll" と同じレイア
	ウトの、"kbdax2.dll" というものもあります。

	ただ別記事で触れているように、キーボード最下段右半分のキー位置という
	のはとかく流動的で、私見ながら、[右 Alt] が押しやすいとは到底思えませ
	ん。しかし一つのキーボードを使い続けるのなら、それも些細な問題なのか
	もしれませんね。皆さんは如何思われますか?


http://shinmk.cocolog-nifty.com/mamanaru/2004/01/us.html より抜粋

	2004.01.21
	
	USキーボード使用の際トラブル

	職場で新しく買った PC、キーボードは US 配列キーボード、OS は日本語
	Windows XP という構成にしたのだが、デバイスマネージャーで見た時、ちゃ
	んと US キーボードになっているのに、日本語 106 キーボードの配列に従っ
	てキー入力されてしまう問題があった。いろいろ調べた結果、なんとか解決。

	レジストリを以下にように修正すると良い。

	[HKEY_LOCAL_MACHINE\SYSTEM\
	CurrentControlSet\Services\i8042prt\Parameters]
	LayerDriver JPN → KBD101.DLL (KBD106.DLLになってた)
	OverrideKeyboardIdentifier → PCAT_101KEY (PCAT_106KEYになってた)
	OverrideKeyboardSubtype → 0 (2になってた)

	OverrideKeyboardSubtype がポイント。ここを直さないと日本語キーボード
	として扱ってしまう模様。他のは気づきやすいけど、これにはなかなか気が
	つかなかった。

	ちなみに、この対策前でも、IME-2003 の言語バーで US を選んだ場合は、ちゃ
	んと英語キーボード配列で、処理されちゃうんだ。でも、IME を起動した場
	合は半角英数でもダメだから、ずいぶん IME 周辺を疑っていたんだけど、実
	は i8042prt の部分の問題なんだよな。ややこしい。

	日本語キーボードをつけているのに、英語キーボードと誤認識されるという
	逆のトラブルがあるようだから、コントロールパネルのキーボードの項目で、
	ここのレジストリーをいじる事ができた方がいいような気もする。

	再度入れ直すにしてもキーボードドライバはうまく取り外せなくて、レジス
	トリエディタを使わない方法でやろうとすると、かなりやっかいな模様。も
	しかして、一旦日本語キーボードに設定し直してから、英語キーボードに戻
	すと解決するのかもしれないな。

	ちなみに自宅のマシンはすべて英語キーボード設定での使用なんだけど、ど
	れも、まっさらな状態からOSをインストールしたものばかりだから、トラブ
	ルが起きなかった模様。

	そのうち英語キーボード配列は見捨てられるのかなぁ。やだなぁ。

[EOF]
